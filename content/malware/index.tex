\chapter{Background on Malware \& Malware Analysis}\label{chapter:background malware}
In \autoref{chapter:background x86 windows} we went over the background of the x86 architecture and Windows because malware is most prevalent on Windows. In this chapter, we look at how malware and malware analysis work in general. In \autoref{chapter:persistence techniques}, we discuss persistence, an important step in the malware life cycle.

\medskip

Malware comes in many shapes and sizes, depending on its goals. However, most malware follows a similar trajectory to achieve its goals. Lockheed Martin developed a model of an intrusion of a computer system or network, the Cyber Kill Chain \cite{cyber_kill_chain}. This kill chain can also be used to model the life cycle of a malware infection:
\begin{enumerate}
    \item \textbf{Reconnaissance}: The malicious actor gathers information on the target they want to compromise.
    \item \textbf{Weaponization}: The malicious actor develops malware to infect the target.
    \item \textbf{Delivery}: The malware is delivered to the target environment (e.g. by email or via a website that the target often visits).
    \item \textbf{Exploitation}: The malware is executed inside the target environment (e.g. by using an exploit).
    \item \textbf{Installation}: Once the malware is successfully executed on the victim's machine, it does an initial setup to maintain persistence.
    \item \textbf{Command \& Control} (C2): After the malware has established a solid foothold on the target machine, the malware beacons (i.e. signals) to a server owned by the malicious actor (i.e. the command \& control server) that it has successfully infected a machine. This server may give additional commands the malware should perform.
    \item \textbf{Actions on Objectives}: At this point in the infection, the malware has nested itself in the target environment and is ready for its main objective. This depends on the goals of the actor behind the malware. Some common tasks are:
    \begin{itemize}
        \item Privilege escalation: The malware will exploit a vulnerability or misconfiguration on a system to gain more access.

        \item Lateral movement: If the infected machine is part of a larger network, malware will try to infect other machines on the network.

        \item Data exfiltration: If the infected system contains valuable information, the malware will extract it and send it to the C2 server.

        \item Data encryption: In recent years, criminal hackers have started encrypting the files on infected machines and demanding payment for the decryption key \cite{ransomware}.
    \end{itemize}
\end{enumerate}

This thesis focuses on how malware achieves persistence, the goal during the installation phase in the life cycle. In \autoref{chapter:persistence techniques}, we discuss which techniques malware commonly implements to achieve persistence.

\medskip

The MITRE ATT\&CK framework\footnote{\tiny \url{https://attack.mitre.org}} (based on the Cyber Kill Chain) is a taxonomy of offensive techniques and tactics used by hackers to intrude and infect computer systems. Persistence is one of the tactics it describes\footnote{\tiny \url{https://attack.mitre.org/tactics/TA0003/}}. We will be using it as a point of reference for the techniques we discuss in \autoref{chapter:persistence techniques}.

\input{content/malware/malware-analysis.tex}
